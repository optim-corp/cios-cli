# CIOS CLI - <small>OPTiM Cloud IoT OS CLI</small>

## About

[OPTiM Cloud IoT OS(CIOS)](https://www.optim.cloud/platform/) The command line interface (CLI) is an integrated tool for managing CIOS.
This tool will be provided in binary and will help automation with scripts etc. that operate CIOS.

This repository depends on [OPTiM Cloud IoT OS Golang SDK](https://github.com/optim-corp/cios-golang-sdk).

Use API as of 2021/03/10.

## CIOS CLI Reference

[CIOS CLI Document](./cli/README.md)

## Inisilized

### 0. CLI Download
- v0.2.3
    - [Linux amd64](https://s3-ap-northeast-1.amazonaws.com/cios-cli.tso.optim-test.com/release/cios-cli-0.2.3-linux-amd64)
    - [Windows amd64](https://s3-ap-northeast-1.amazonaws.com/cios-cli.tso.optim-test.com/release/cios-cli-0.2.3-windows-amd64.exe)
    - [macOS amd64](https://s3-ap-northeast-1.amazonaws.com/cios-cli.tso.optim-test.com/release/cios-cli-0.2.3-macos-amd64)

### 1. Create config file

The configuration file is automatically generated by entering the following command. Information such as domain county and Access Token is temporarily stored in the configuration file.

```shell
$ cios
Created a directory [C:\Users\hogehoge/.cios-cli]
Created a file [C:\Users\hogehoge/.cios-cli/config.json]
Created a file [C:\Users\hogehoge/.cios-cli/URL.json]

Next '$ cios login'
```

### 2. Get API token

By doing `cios login`, you can log in with any` OAuth Client`.
Create OAuthClient information according to the following.

- Type: `Web`
- Redirect URI: `http://localhost:8080/oauth2/callback`

```shell
$ cios login 
? Choose a stage:  [Use arrows to move, enter to select, type to filter]
> Preview
  Production
? Redirect URI:  http://localhost:8080/oauth2/callback
? Client ID:  hohohooho-gege-hoho-gegehogehogehoge
? Client Secret ****************************************************************

...

finish
```

### 3. Use CIOS API

The [CIOS CLI Document](./cli/README.md) describes how to use the API.

### 4. Save config files

By saving the setting information as a file, any data can be recalled later.

For example, it is effective when using two environments, `Prod` and` Pre`.

```shell
$ cios config save
? Name:  Develop                                        
Success to save config
```

## Custom API FQDNs

You can change the destination environment by entering the following command.

```shell
cios url edit
```

- Option `-i` : The entered domain will be set.
- Option `-ia` : Write all URLs.
- Option none : The settings folder opens.

## How to Development

Please see [DEVELOP.md](./DEVELOP.md)

## How to Support

If you have any issues or questions, please raise them on [Github issues](https://github.com/optim-corp/cios-cli/issues).

## LICENSE

[The Apache-2.0 License](https://www.apache.org/licenses/LICENSE-2.0)

Copyright (c) 2021 OPTiM Corporation <https://www.optim.co.jp/>
